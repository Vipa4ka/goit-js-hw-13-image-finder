{"version":3,"sources":["apiService.js","index.js"],"names":["NewsApiService","constructor","searchQuery","page","fetchArticles","fetch","then","r","json","data","resetPage","query","newQwery","refs","element","document","getElementById","searchForm","querySelector","articlesContainer","loadMoreBtn","newsApiService","onSearch","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";;;AAmDA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAnDe,MAAMA,EACjBC,cACSC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGhBC,gBAGAC,4EAAsB,KAAKH,oBAAoB,KAAKC,2DAC/CG,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACGN,KAAAA,MAAQ,IAIrBO,YACSP,KAAAA,KAAO,EAEXQ,YACE,OAAA,KAAKT,YAGPS,UAAMC,GACLV,KAAAA,YAAYU,GA2BtB,QAAA,QAAA;;ACbA,aAtCA,QAAA,oBAEA,IAAA,EAAA,EAAA,QAAA,iBAoCA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjCA,MAAMC,EAAO,CACTC,QAASC,SAASC,eAAe,wBACjCC,WAAYF,SAASG,cAAc,gBACnCC,kBAAmBJ,SAASG,cAAc,YAC1CE,YAAaL,SAASG,cAAc,8BAGlCG,EAAiB,IAAIrB,EAAJ,QAMvB,SAASsB,EAASC,GACdA,EAAEC,iBAEFH,EAAeV,MAAQY,EAAEE,cAAcC,SAASf,MAAMgB,MACtDN,EAAeX,YACfW,EAAejB,gBAGnB,SAASwB,IACLP,EAAejB,gBAbnBS,EAAKI,WAAWY,iBAAiB,SAAUP,GAC3CT,EAAKO,YAAYS,iBAAiB,QAASD","file":"src.6f6f5320.js","sourceRoot":"../src","sourcesContent":["export default class NewsApiService{\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n        \n    }\n    fetchArticles() {\n    const BASE_URL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal&';\n    const KEY = '21917669-1fedcfe337ac78c8906ac8c38';\n    fetch(`${BASE_URL}q=${this.searchQuery}&page=${this.page}&per_page=12&key=${KEY}`)\n        .then(r => r.json())\n        .then(data => {\n            this.page += 1;\n        });\n        \n    }\n    resetPage() {\n        this.page = 1;\n    }\n    get  query() {\n    return this.searchQuery;    \n    }\n\n    set  query(newQwery) {\n     this.searchQuery=newQwery;    \n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// const BASE_URL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal&';\n// const KEY = '21917669-1fedcfe337ac78c8906ac8c38';\n// const per_page = 12;\n// export default function fetchCard() {\n\n//     return fetch(`${BASE_URL}q=${this.searchQuery}&page=${this.page}&per_page=${per_page}&key=${KEY}`,)    \n//         .then(response => {\n//             if (response.ok) return response.json();\n//             throw new Error('Error fatching data');\n//         });\n// }\n\n\n\n\n\n\n\n\n","import './sass/main.scss';\n// import NewsApiService from '../src/apiService';\nimport NewsApiService from './apiService';\n// import './gallery';\n\nconst refs = {\n    element: document.getElementById('.my-element-selector'),\n    searchForm: document.querySelector('.search-form'),\n    articlesContainer: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('[data-action=\"load-more\"]')\n};\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\n\nfunction onSearch(e) {\n    e.preventDefault();\n    \n    newsApiService.query = e.currentTarget.elements.query.value;\n    newsApiService.resetPage();\n    newsApiService.fetchArticles();\n};\n\nfunction onLoadMore() {\n    newsApiService.fetchArticles();\n      \n};\n\n\n\n\n// // const element = document.getElementById('.my-element-selector');\n// refs.element.scrollIntoView({\n//   behavior: 'smooth',\n//   block: 'end',\n// });\n\n\n\n"]}